<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Doctor Appointment Management</title>

    
</head>
<body>

    
 <!-- <div class="app-container "> -->

        <div id="sidebar_box"></div>
       
        <div class="main-content">
           
        <div id="header_box"></div>




                    <div class="page-header mt-4 p-3">
                        <h1 class="page-title">User Roles</h1>
                        <a href="addRole.html">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Add Role
                        </button>
                        </a>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">System Roles</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover " id="roleTable">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Role Name</th>
                                           
                                            <th rowspan="3">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                     
                                          
                                        
                                    </tbody>


                                </table>

                               
                            </div>
                        </div>
                    </div>
                </div>


   

    </div>
<!-- </div> -->

    
<!-- Custom Confirm Modal -->
<div id="customConfirm" class="confirm-overlay">
    <div class="confirm-box">
        <p id="confirmMessage">Are you sure you want to delete this role?</p>
        <div class="confirm-buttons">
            <button id="confirmYes" class="btn btn-danger">Yes</button>
            <button id="confirmNo" class="btn btn-secondary">Cancel</button>
        </div>
    </div>
</div>


    <!-- Custom Success Alert -->
<div id="customAlert" class="alert-overlay">
    <div class="alert-box success">
        <span id="alertMessage">Role deleted successfully!</span>
    </div>
</div>
    


<script src="assets/js/comman.js"></script>
<script src="assets/js/dashbord.js"></script>
<script src="assets/js/app.js"> </script>

 <script>

        async function loadRoles() {

            const res=await fetch('http://localhost:8080/api/roles');

            const roles=await res.json();

            const tbody=document.getElementById("roleTable").querySelector("tbody");
            tbody.innerHTML='';
            
            roles.forEach(role => {

                    const row=document.createElement('tr');

                    row.innerHTML +=`

                                <td>${role.id}</td>
                                <td>${role.role}</td>

                                 <td>
                                                <button class="btn btn-sm btn-outline-primary me-1" ><i class="fas fa-eye"></i></button>
<button class="btn btn-sm btn-outline-warning me-1" onclick="window.location.href='updateRole.html?id=${role.id}'"><i class="fas fa-edit"></i></button>
                            <button class="btn btn-sm btn-outline-danger" onclick="deleteRole(${role.id})"><i class="fas fa-trash"></i></button>
                                 </td>


                    
                    
                    
                    `;

                    tbody.appendChild(row);
                
                
            });
        }


loadRoles();



</script>  





</body>
</html>